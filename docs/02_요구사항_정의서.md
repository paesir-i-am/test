# 요구사항 정의서

## 1. 문서 정보

### 프로젝트명
**쑤카 (Sooka)**

### 문서 버전
v1.0

### 작성일
2024년 (작성일자)

### 문서 목적
쑤카 프로젝트의 기능 요구사항 및 비기능 요구사항을 명확히 정의하여 개발팀과 이해관계자 간의 공통 이해를 도모합니다.

---

## 2. 기능 요구사항 (Functional Requirements)

### 2.1 사용자 관리 (FR-001)

#### FR-001-01: 회원가입
- **우선순위**: 높음 (Must Have)
- **설명**: 사용자가 이메일과 비밀번호로 회원가입을 할 수 있어야 함
- **세부 요구사항**:
  - 이메일 형식 검증 필수
  - 비밀번호 최소 8자 이상, 영문/숫자 조합
  - 이메일 중복 확인
  - 이메일 인증 (선택사항)
  - 사용자 역할 선택 (구매자/판매자/둘 다)

#### FR-001-02: 로그인
- **우선순위**: 높음 (Must Have)
- **설명**: 가입한 사용자가 로그인할 수 있어야 함
- **세부 요구사항**:
  - 이메일/비밀번호 로그인
  - 소셜 로그인 (Google, Kakao) - 향후 확장
  - 로그인 실패 시 재시도 제한 (5회)
  - 세션 관리 (JWT 토큰 기반)

#### FR-001-03: 로그아웃
- **우선순위**: 높음 (Must Have)
- **설명**: 로그인한 사용자가 로그아웃할 수 있어야 함
- **세부 요구사항**:
  - 토큰 무효화
  - 세션 종료

#### FR-001-04: 프로필 관리
- **우선순위**: 중간 (Should Have)
- **설명**: 사용자가 자신의 프로필 정보를 수정할 수 있어야 함
- **세부 요구사항**:
  - 이름, 전화번호, 주소 수정
  - 프로필 사진 업로드
  - 비밀번호 변경

---

### 2.2 차량 등록 및 관리 (FR-002)

#### FR-002-01: 차량 등록
- **우선순위**: 높음 (Must Have)
- **설명**: 판매자가 차량 정보를 등록할 수 있어야 함
- **세부 요구사항**:
  - 필수 정보 입력:
    - 제조사, 모델, 연식
    - 주행거리, 가격
    - 연료 유형, 변속기 유형
    - 색상, 지역
  - 선택 정보 입력:
    - 옵션 사항
    - 사고 이력
    - 수리 이력
    - 차량 설명
  - 차량 사진 업로드 (최소 1장, 최대 20장)
  - 차량 번호 입력 (선택)
  - 등록 전 미리보기 기능

#### FR-002-02: 차량 정보 수정
- **우선순위**: 높음 (Must Have)
- **설명**: 판매자가 등록한 차량 정보를 수정할 수 있어야 함
- **세부 요구사항**:
  - 가격 변경 가능
  - 사진 추가/삭제
  - 설명 수정
  - 상태 변경 (판매중/예약중/판매완료)

#### FR-002-03: 차량 삭제
- **우선순위**: 중간 (Should Have)
- **설명**: 판매자가 등록한 차량을 삭제할 수 있어야 함
- **세부 요구사항**:
  - 삭제 전 확인 절차
  - 삭제된 차량은 복구 불가

#### FR-002-04: 내 차량 목록 조회
- **우선순위**: 중간 (Should Have)
- **설명**: 판매자가 자신이 등록한 차량 목록을 조회할 수 있어야 함
- **세부 요구사항**:
  - 등록된 차량 목록 조회
  - 상태별 필터링 (판매중/예약중/판매완료)
  - 조회수, 문의 수 표시

---

### 2.3 차량 검색 및 조회 (FR-003)

#### FR-003-01: 차량 목록 조회
- **우선순위**: 높음 (Must Have)
- **설명**: 사용자가 등록된 차량 목록을 조회할 수 있어야 함
- **세부 요구사항**:
  - 페이지네이션 (페이지당 20개)
  - 기본 정렬: 최신순
  - 차량 썸네일, 제목, 가격, 지역 표시

#### FR-003-02: 키워드 검색
- **우선순위**: 높음 (Must Have)
- **설명**: 사용자가 키워드로 차량을 검색할 수 있어야 함
- **세부 요구사항**:
  - 제조사, 모델명, 차량명으로 검색
  - 실시간 검색 제안 (자동완성)
  - 검색 결과 하이라이트

#### FR-003-03: 필터링
- **우선순위**: 높음 (Must Have)
- **설명**: 사용자가 다양한 조건으로 차량을 필터링할 수 있어야 함
- **세부 요구사항**:
  - 가격대 필터 (최소/최대)
  - 제조사 필터 (다중 선택)
  - 연식 필터 (최소/최대)
  - 주행거리 필터 (최소/최대)
  - 연료 유형 필터 (가솔린/디젤/하이브리드/전기)
  - 변속기 유형 필터 (수동/자동)
  - 지역 필터
  - 사고 이력 유무 필터
  - 필터 조합 가능

#### FR-003-04: 정렬
- **우선순위**: 중간 (Should Have)
- **설명**: 사용자가 차량 목록을 정렬할 수 있어야 함
- **세부 요구사항**:
  - 최신순
  - 가격 낮은순/높은순
  - 주행거리 적은순/많은순
  - 조회수 높은순

#### FR-003-05: 차량 상세 조회
- **우선순위**: 높음 (Must Have)
- **설명**: 사용자가 차량의 상세 정보를 조회할 수 있어야 함
- **세부 요구사항**:
  - 차량 기본 정보 표시
  - 차량 사진 갤러리 (확대보기)
  - 차량 옵션 표시
  - 사고 이력, 수리 이력 표시
  - 판매자 정보 표시
  - 조회수 카운트
  - 관련 차량 추천 (선택)

---

### 2.4 관심 차량 관리 (FR-004)

#### FR-004-01: 찜하기
- **우선순위**: 중간 (Should Have)
- **설명**: 사용자가 관심 있는 차량을 찜할 수 있어야 함
- **세부 요구사항**:
  - 로그인 사용자만 가능
  - 찜하기/찜하기 취소 토글
  - 찜한 차량 수 표시

#### FR-004-02: 관심 차량 목록 조회
- **우선순위**: 중간 (Should Have)
- **설명**: 사용자가 찜한 차량 목록을 조회할 수 있어야 함
- **세부 요구사항**:
  - 찜한 차량 목록 조회
  - 삭제된 차량 표시 (판매완료 등)
  - 찜하기 취소 기능

---

### 2.5 문의 및 소통 (FR-005)

#### FR-005-01: 문의하기
- **우선순위**: 높음 (Must Have)
- **설명**: 구매자가 판매자에게 문의할 수 있어야 함
- **세부 요구사항**:
  - 로그인 사용자만 가능
  - 문의 제목, 내용 입력
  - 판매자에게 알림 (향후 확장)
  - 문의 시각 기록

#### FR-005-02: 문의 내역 조회
- **우선순위**: 높음 (Must Have)
- **설명**: 사용자가 문의 내역을 조회할 수 있어야 함
- **세부 요구사항**:
  - 받은 문의 / 보낸 문의 구분
  - 문의 상태 표시 (답변 대기/답변 완료)
  - 문의 상세 조회

#### FR-005-03: 문의 답변
- **우선순위**: 높음 (Must Have)
- **설명**: 판매자가 문의에 답변할 수 있어야 함
- **세부 요구사항**:
  - 답변 내용 입력
  - 답변 시각 기록
  - 구매자에게 알림 (향후 확장)

---

### 2.6 관리자 기능 (FR-006)

#### FR-006-01: 차량 정보 승인/거부
- **우선순위**: 높음 (Must Have)
- **설명**: 관리자가 등록된 차량 정보를 승인하거나 거부할 수 있어야 함
- **세부 요구사항**:
  - 대기 중인 차량 목록 조회
  - 차량 상세 정보 확인
  - 승인/거부 처리
  - 거부 사유 입력
  - 승인된 차량만 노출

#### FR-006-02: 사용자 관리
- **우선순위**: 중간 (Should Have)
- **설명**: 관리자가 사용자를 관리할 수 있어야 함
- **세부 요구사항**:
  - 사용자 목록 조회
  - 사용자 정보 조회
  - 사용자 정지/해제
  - 사용자 역할 변경

#### FR-006-03: 공지사항 관리
- **우선순위**: 중간 (Should Have)
- **설명**: 관리자가 공지사항을 작성하고 관리할 수 있어야 함
- **세부 요구사항**:
  - 공지사항 작성
  - 공지사항 수정/삭제
  - 공지사항 고정/해제
  - 공지사항 목록 조회

#### FR-006-04: 통계 조회
- **우선순위**: 낮음 (Nice to Have)
- **설명**: 관리자가 플랫폼 통계를 조회할 수 있어야 함
- **세부 요구사항**:
  - 전체 사용자 수
  - 등록된 차량 수
  - 일일/월간 방문자 수
  - 문의 건수

---

## 3. 비기능 요구사항 (Non-Functional Requirements)

### 3.1 성능 요구사항 (NFR-001)

#### NFR-001-01: 응답 시간
- **페이지 로딩 시간**: 3초 이내
- **API 응답 시간**: 500ms 이내
- **검색 결과 제공**: 1초 이내

#### NFR-001-02: 처리량
- **동시 접속자**: 100명 지원
- **초당 요청 처리**: 50-100 요청

#### NFR-001-03: 확장성
- **데이터베이스**: 차량 데이터 10만 건 이상 저장 가능
- **이미지 저장**: 차량당 최대 20장, 총 200만 장 이상 저장 가능

---

### 3.2 보안 요구사항 (NFR-002)

#### NFR-002-01: 인증 및 인가
- **인증 방식**: JWT 토큰 기반
- **토큰 만료 시간**: 24시간
- **리프레시 토큰**: 7일
- **권한 분리**: 구매자/판매자/관리자

#### NFR-002-02: 데이터 보안
- **비밀번호**: Bcrypt 암호화 저장
- **개인정보**: 암호화 저장
- **HTTPS**: 모든 통신 암호화
- **SQL Injection 방지**: 파라미터화된 쿼리 사용
- **XSS 방지**: 입력 데이터 검증 및 이스케이프
- **CSRF 방지**: CSRF 토큰 사용

#### NFR-002-03: 파일 업로드 보안
- **파일 타입 제한**: 이미지 파일만 (jpg, png, webp)
- **파일 크기 제한**: 개별 파일 5MB 이하
- **바이러스 스캔**: 업로드 파일 검사 (향후 확장)

---

### 3.3 사용성 요구사항 (NFR-003)

#### NFR-003-01: 접근성
- **반응형 디자인**: 모바일, 태블릿, 데스크톱 지원
- **브라우저 호환성**: Chrome, Safari, Firefox, Edge 최신 버전
- **키보드 네비게이션**: 주요 기능 키보드 접근 가능

#### NFR-003-02: 사용자 경험
- **직관적인 UI**: 신규 사용자도 쉽게 사용 가능
- **에러 메시지**: 명확하고 이해하기 쉬운 메시지
- **로딩 인디케이터**: 처리 중 상태 표시
- **빠른 피드백**: 사용자 액션에 즉각적인 반응

---

### 3.4 안정성 요구사항 (NFR-004)

#### NFR-004-01: 가용성
- **서비스 가동률**: 99% 이상
- **다운타임**: 월 1시간 이내
- **장애 복구 시간**: 1시간 이내

#### NFR-004-02: 데이터 무결성
- **데이터 백업**: 일일 자동 백업
- **트랜잭션 관리**: 데이터 일관성 보장
- **데이터 복구**: 백업으로부터 복구 가능

#### NFR-004-03: 에러 처리
- **에러 로깅**: 모든 에러 기록
- **에러 모니터링**: 실시간 에러 추적
- **사용자 친화적 에러 페이지**: 404, 500 등

---

### 3.5 호환성 요구사항 (NFR-005)

#### NFR-005-01: 브라우저 호환성
- **Chrome**: 최신 2개 버전
- **Safari**: 최신 2개 버전
- **Firefox**: 최신 2개 버전
- **Edge**: 최신 2개 버전

#### NFR-005-02: 디바이스 호환성
- **모바일**: iOS 13+, Android 8+
- **태블릿**: iPad, Android 태블릿
- **데스크톱**: Windows, macOS, Linux

---

### 3.6 유지보수 요구사항 (NFR-006)

#### NFR-006-01: 코드 품질
- **코드 리뷰**: 모든 코드 리뷰 필수
- **코딩 컨벤션**: 프로젝트 표준 준수
- **문서화**: 주요 기능 문서화

#### NFR-006-02: 모니터링
- **성능 모니터링**: API 응답 시간 추적
- **에러 모니터링**: 에러 발생 추적 (Sentry)
- **로그 관리**: 구조화된 로그 수집

---

## 4. 사용자 스토리 (User Stories)

### 사용자 스토리 1: 구매자
```
사용자로서 나는 키워드로 차량을 검색하여
원하는 차량을 빠르게 찾을 수 있어야 한다.

Acceptance Criteria:
- 키워드 입력 시 실시간 검색 제안 제공
- 검색 결과 1초 이내 표시
- 검색 결과에서 관련 차량 명확히 표시
```

### 사용자 스토리 2: 구매자
```
사용자로서 나는 다양한 필터를 사용하여
내 예산과 조건에 맞는 차량을 찾을 수 있어야 한다.

Acceptance Criteria:
- 가격대, 제조사, 연식 등 필터 제공
- 여러 필터 조합 가능
- 필터 적용 결과 즉시 표시
```

### 사용자 스토리 3: 판매자
```
판매자로서 나는 간단한 절차로
내 차량을 등록할 수 있어야 한다.

Acceptance Criteria:
- 필수 정보만 입력하면 등록 가능
- 사진 업로드 간편
- 등록 전 미리보기 제공
```

### 사용자 스토리 4: 판매자
```
판매자로서 나는 구매자의 문의를 확인하고
빠르게 답변할 수 있어야 한다.

Acceptance Criteria:
- 문의 알림 제공
- 문의 내역 조회
- 답변 작성 및 전송
```

### 사용자 스토리 5: 구매자
```
구매자로서 나는 관심 있는 차량을 찜하여
나중에 다시 확인할 수 있어야 한다.

Acceptance Criteria:
- 찜하기 버튼 클릭으로 저장
- 찜한 차량 목록 조회
- 찜하기 취소 가능
```

---

## 5. 우선순위 매트릭스

### Must Have (필수)
- 사용자 인증 (회원가입/로그인)
- 차량 등록
- 차량 검색 및 조회
- 필터링
- 차량 상세 조회
- 문의하기/답변

### Should Have (중요)
- 프로필 관리
- 차량 정보 수정/삭제
- 찜하기 기능
- 정렬 기능
- 관리자 차량 승인

### Nice to Have (선택)
- 통계 조회
- 공지사항 관리
- 관련 차량 추천

---

## 6. 의존성 및 제약사항

### 기술적 의존성
- 데이터베이스: PostgreSQL 또는 MySQL
- 이미지 저장: AWS S3 또는 Cloudinary
- 인증: JWT 라이브러리

### 비즈니스 제약사항
- 법적 규제 준수 (중고차 거래 관련 법규)
- 개인정보 보호법 준수
- 동시 접속자 100명 제한

### 일정 제약사항
- MVP 개발 기간: 11-13주
- 단계별 마일스톤 준수

---

## 문서 승인

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| 프로젝트 매니저 | | | |
| 기술 리더 | | | |
| 기획자 | | | |
| 개발 리더 | | | |

---

**문서 버전**: 1.0  
**최종 수정일**: 2024년 (작성일자)  
**다음 리뷰일**: 프로젝트 진행 중 필요시 수정


# 테스트 계획서

## 1. 문서 정보

### 프로젝트명
**쑤카 (Sooka)**

### 문서 버전
v1.0

### 작성일
2024년 (작성일자)

### 문서 목적
쑤카 프로젝트의 테스트 전략과 계획을 수립하여 품질을 보장합니다.

---

## 2. 테스트 목표

### 2.1 품질 목표
- **기능 정확성**: 모든 요구사항이 정확히 구현되었는지 확인
- **안정성**: 예상치 못한 상황에서도 안정적으로 동작
- **성능**: 요구사항에 명시된 성능 기준 충족
- **사용성**: 사용자가 쉽고 편리하게 사용 가능
- **보안**: 보안 취약점 없음

### 2.2 테스트 범위
- 기능 테스트
- 통합 테스트
- 성능 테스트
- 보안 테스트
- 사용성 테스트

---

## 3. 테스트 전략

### 3.1 테스트 레벨

#### 단위 테스트 (Unit Test)
- **목적**: 개별 함수/컴포넌트의 동작 검증
- **범위**: 모든 핵심 로직
- **목표 커버리지**: 80% 이상

#### 통합 테스트 (Integration Test)
- **목적**: 모듈 간 상호작용 검증
- **범위**: API 엔드포인트, 데이터베이스 연동
- **목표 커버리지**: 주요 기능 100%

#### E2E 테스트 (End-to-End Test)
- **목적**: 사용자 시나리오 전체 플로우 검증
- **범위**: 주요 사용자 플로우
- **도구**: Playwright 또는 Cypress

---

## 4. 테스트 환경

### 4.1 개발 환경
- **목적**: 개발 중 빠른 피드백
- **데이터베이스**: 로컬 PostgreSQL/MySQL
- **자동화**: CI/CD 파이프라인

### 4.2 스테이징 환경
- **목적**: 배포 전 최종 검증
- **데이터베이스**: 프로덕션과 유사한 환경
- **데이터**: 테스트 데이터 사용

### 4.3 프로덕션 환경
- **목적**: 모니터링 및 회귀 테스트
- **모니터링**: Sentry, 로그 분석

---

## 5. 기능 테스트

### 5.1 사용자 인증 테스트

#### TC-AUTH-001: 회원가입 성공
- **전제 조건**: 신규 사용자
- **입력**: 유효한 이메일, 비밀번호
- **예상 결과**: 회원가입 성공, JWT 토큰 발급

#### TC-AUTH-002: 중복 이메일 회원가입
- **전제 조건**: 이미 존재하는 이메일
- **입력**: 중복된 이메일
- **예상 결과**: 에러 메시지 표시, 회원가입 실패

#### TC-AUTH-003: 로그인 성공
- **전제 조건**: 등록된 사용자
- **입력**: 올바른 이메일, 비밀번호
- **예상 결과**: 로그인 성공, 토큰 발급

#### TC-AUTH-004: 잘못된 비밀번호 로그인
- **전제 조건**: 등록된 사용자
- **입력**: 잘못된 비밀번호
- **예상 결과**: 로그인 실패, 에러 메시지

#### TC-AUTH-005: 로그인 시도 제한
- **전제 조건**: 등록된 사용자
- **입력**: 5회 연속 잘못된 비밀번호
- **예상 결과**: 계정 일시 잠금, 30분 후 재시도 가능

---

### 5.2 차량 등록 테스트

#### TC-VEHICLE-001: 차량 등록 성공
- **전제 조건**: 로그인한 판매자
- **입력**: 모든 필수 정보, 최소 1장의 사진
- **예상 결과**: 차량 등록 성공, 승인 대기 상태

#### TC-VEHICLE-002: 필수 정보 누락
- **전제 조건**: 로그인한 판매자
- **입력**: 필수 정보 일부 누락
- **예상 결과**: 에러 메시지 표시, 등록 실패

#### TC-VEHICLE-003: 사진 미업로드
- **전제 조건**: 로그인한 판매자
- **입력**: 정보는 모두 입력, 사진 없음
- **예상 결과**: 에러 메시지, 등록 실패

#### TC-VEHICLE-004: 차량 정보 수정
- **전제 조건**: 등록된 차량의 판매자
- **입력**: 가격 수정
- **예상 결과**: 정보 수정 성공, 승인 대기 상태

#### TC-VEHICLE-005: 차량 삭제
- **전제 조건**: 등록된 차량의 판매자
- **입력**: 삭제 확인
- **예상 결과**: 차량 삭제 성공, 목록에서 제외

---

### 5.3 차량 검색 테스트

#### TC-SEARCH-001: 키워드 검색
- **전제 조건**: 메인 페이지 접속
- **입력**: "소나타" 검색
- **예상 결과**: 소나타 관련 차량 목록 표시

#### TC-SEARCH-002: 필터 적용
- **전제 조건**: 차량 목록 페이지
- **입력**: 가격대 1000만원-3000만원 필터
- **예상 결과**: 해당 가격대 차량만 표시

#### TC-SEARCH-003: 정렬 기능
- **전제 조건**: 차량 목록 페이지
- **입력**: 가격 낮은순 정렬
- **예상 결과**: 가격이 낮은 순서대로 정렬

#### TC-SEARCH-004: 복합 필터
- **전제 조건**: 차량 목록 페이지
- **입력**: 제조사 + 가격대 + 연식 필터 조합
- **예상 결과**: 모든 조건에 맞는 차량만 표시

---

### 5.4 찜하기 테스트

#### TC-FAVORITE-001: 찜하기 추가
- **전제 조건**: 로그인한 사용자, 차량 상세 페이지
- **입력**: 찜하기 버튼 클릭
- **예상 결과**: 찜하기 추가 성공, 버튼 상태 변경

#### TC-FAVORITE-002: 찜하기 취소
- **전제 조건**: 찜한 차량
- **입력**: 찜하기 취소 버튼 클릭
- **예상 결과**: 찜하기 취소, 목록에서 제외

#### TC-FAVORITE-003: 비로그인 사용자 찜하기
- **전제 조건**: 비로그인 사용자
- **입력**: 찜하기 버튼 클릭
- **예상 결과**: 로그인 페이지로 이동

---

### 5.5 문의 테스트

#### TC-INQUIRY-001: 문의하기
- **전제 조건**: 로그인한 구매자, 차량 상세 페이지
- **입력**: 문의 제목, 내용 입력
- **예상 결과**: 문의 전송 성공, 판매자에게 전달

#### TC-INQUIRY-002: 문의 답변
- **전제 조건**: 받은 문의가 있는 판매자
- **입력**: 답변 내용 입력
- **예상 결과**: 답변 전송 성공, 상태 변경

#### TC-INQUIRY-003: 문의 내역 조회
- **전제 조건**: 로그인한 사용자
- **입력**: 문의 내역 페이지 접속
- **예상 결과**: 받은 문의/보낸 문의 목록 표시

---

### 5.6 관리자 기능 테스트

#### TC-ADMIN-001: 차량 승인
- **전제 조건**: 로그인한 관리자, 승인 대기 차량
- **입력**: 승인 버튼 클릭
- **예상 결과**: 차량 승인, 일반 목록에 노출

#### TC-ADMIN-002: 차량 거부
- **전제 조건**: 로그인한 관리자, 승인 대기 차량
- **입력**: 거부 버튼 클릭, 사유 입력
- **예상 결과**: 차량 거부, 판매자에게 알림 (향후)

#### TC-ADMIN-003: 사용자 정지
- **전제 조건**: 로그인한 관리자
- **입력**: 사용자 정지 버튼 클릭
- **예상 결과**: 사용자 계정 정지, 로그인 불가

---

## 6. 통합 테스트

### 6.1 API 통합 테스트

#### TC-API-001: 인증 플로우
1. 회원가입 API 호출
2. 로그인 API 호출
3. 보호된 API 호출 (토큰 사용)
4. 토큰 만료 시 재발급

#### TC-API-002: 차량 등록 플로우
1. 로그인 API 호출
2. 차량 등록 API 호출
3. 이미지 업로드 API 호출
4. 차량 목록 조회 API 호출 (승인 대기)

#### TC-API-003: 검색 및 필터 플로우
1. 차량 목록 조회 API 호출
2. 필터 파라미터 적용
3. 정렬 파라미터 적용
4. 페이지네이션 테스트

---

## 7. 성능 테스트

### 7.1 부하 테스트

#### 목표
- **동시 접속자**: 100명 지원
- **응답 시간**: API 500ms 이내
- **처리량**: 초당 50-100 요청

#### 테스트 시나리오
1. 차량 목록 조회 (100명 동시 접속)
2. 검색 기능 (50명 동시 검색)
3. 차량 상세 조회 (100명 동시 조회)

#### 도구
- **로드 테스트**: k6, Apache JMeter
- **모니터링**: 성능 메트릭 수집

### 7.2 스트레스 테스트
- **목적**: 시스템 한계점 확인
- **시나리오**: 점진적 부하 증가
- **측정**: 응답 시간, 에러율, 처리량

---

## 8. 보안 테스트

### 8.1 인증/인가 테스트

#### TC-SEC-001: 토큰 없이 API 접근
- **예상 결과**: 401 Unauthorized

#### TC-SEC-002: 만료된 토큰 사용
- **예상 결과**: 401 Unauthorized, 토큰 갱신 필요

#### TC-SEC-003: 권한 없는 리소스 접근
- **예상 결과**: 403 Forbidden

### 8.2 입력 검증 테스트

#### TC-SEC-004: SQL Injection 시도
- **입력**: `' OR '1'='1`
- **예상 결과**: 입력 검증으로 차단

#### TC-SEC-005: XSS 공격 시도
- **입력**: `<script>alert('XSS')</script>`
- **예상 결과**: 입력 이스케이프 처리

#### TC-SEC-006: 파일 업로드 보안
- **입력**: 실행 파일 업로드 시도
- **예상 결과**: 파일 타입 검증으로 차단

---

## 9. 사용성 테스트

### 9.1 사용자 시나리오

#### 시나리오 1: 구매자 차량 검색
1. 메인 페이지 접속
2. 키워드 검색
3. 필터 적용
4. 차량 상세 조회
5. 찜하기
6. 문의하기

**평가 기준**:
- 각 단계 완료 시간
- 사용자 혼란 지점
- 개선 사항

#### 시나리오 2: 판매자 차량 등록
1. 로그인
2. 차량 등록 페이지 이동
3. 정보 입력
4. 사진 업로드
5. 등록 완료

**평가 기준**:
- 등록 완료 시간
- 입력 오류 발생 빈도
- 사용자 만족도

---

## 10. 테스트 자동화

### 10.1 CI/CD 통합

#### GitHub Actions 워크플로우
```yaml
name: Test

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Setup Node.js
        uses: actions/setup-node@v2
      - name: Install dependencies
        run: npm install
      - name: Run tests
        run: npm test
      - name: Run E2E tests
        run: npm run test:e2e
```

### 10.2 테스트 커버리지
- **목표**: 80% 이상
- **도구**: Jest Coverage, Istanbul
- **리포팅**: 커버리지 리포트 생성

---

## 11. 테스트 일정

### 11.1 단계별 테스트

#### Phase 1: 단위 테스트 (개발 중)
- **기간**: 개발과 병행
- **담당**: 개발자
- **목표**: 주요 함수/컴포넌트 테스트

#### Phase 2: 통합 테스트 (기능 완료 후)
- **기간**: 1주
- **담당**: QA 팀
- **목표**: API 통합 테스트

#### Phase 3: E2E 테스트 (배포 전)
- **기간**: 1주
- **담당**: QA 팀
- **목표**: 주요 플로우 검증

#### Phase 4: 성능 테스트 (배포 전)
- **기간**: 3일
- **담당**: DevOps 팀
- **목표**: 성능 기준 충족

#### Phase 5: 사용성 테스트 (스테이징)
- **기간**: 1주
- **담당**: UX 팀
- **목표**: 사용자 경험 개선

---

## 12. 결함 관리

### 12.1 결함 분류

#### 심각도 (Severity)
- **Critical**: 시스템 다운, 데이터 손실
- **High**: 주요 기능 미동작
- **Medium**: 기능 동작하나 불완전
- **Low**: UI 개선, 사소한 문제

#### 우선순위 (Priority)
- **P1**: 즉시 수정 필요
- **P2**: 이번 릴리스에 수정
- **P3**: 다음 릴리스에 수정
- **P4**: 향후 검토

### 12.2 결함 추적
- **도구**: GitHub Issues, Jira
- **프로세스**: 발견 → 등록 → 할당 → 수정 → 검증 → 종료

---

## 13. 테스트 리포팅

### 13.1 테스트 결과 보고

#### 보고 항목
- 테스트 실행 결과
- 발견된 결함 수 및 심각도
- 커버리지 리포트
- 성능 테스트 결과
- 개선 사항

#### 보고 주기
- 일일: 개발 중 진행 상황
- 주간: 테스트 진행 상황
- 릴리스 전: 전체 테스트 결과

---

## 14. 테스트 도구

### 14.1 Frontend 테스트
- **단위 테스트**: Jest, React Testing Library
- **E2E 테스트**: Playwright, Cypress
- **커버리지**: Istanbul

### 14.2 Backend 테스트
- **단위 테스트**: Jest (Node.js), pytest (Python)
- **API 테스트**: Supertest (Node.js), Django Test Client
- **성능 테스트**: k6, Apache JMeter

### 14.3 기타 도구
- **Mock**: MSW (Mock Service Worker)
- **테스트 데이터**: Faker.js
- **스냅샷**: Jest Snapshot

---

## 문서 승인

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| 프로젝트 매니저 | | | |
| QA 리더 | | | |
| 기술 리더 | | | |

---

**문서 버전**: 1.0  
**최종 수정일**: 2024년 (작성일자)  
**다음 리뷰일**: 프로젝트 진행 중 필요시 수정

